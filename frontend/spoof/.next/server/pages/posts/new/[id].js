"use strict";(()=>{var e={};e.id=903,e.ids=[903,888,660],e.modules={1124:(e,r,t)=>{t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{config:()=>g,default:()=>m,getServerSideProps:()=>h,getStaticPaths:()=>d,getStaticProps:()=>x,reportWebVitals:()=>q,routeModule:()=>P,unstable_getServerProps:()=>f,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>S});var i=t(7093),o=t(5244),a=t(1323),u=t(2899),n=t.n(u),l=t(1015),c=t(4750),p=e([c]);c=(p.then?(await p)():p)[0];let m=(0,a.l)(c,"default"),x=(0,a.l)(c,"getStaticProps"),d=(0,a.l)(c,"getStaticPaths"),h=(0,a.l)(c,"getServerSideProps"),g=(0,a.l)(c,"config"),q=(0,a.l)(c,"reportWebVitals"),S=(0,a.l)(c,"unstable_getStaticProps"),b=(0,a.l)(c,"unstable_getStaticPaths"),j=(0,a.l)(c,"unstable_getStaticParams"),f=(0,a.l)(c,"unstable_getServerProps"),v=(0,a.l)(c,"unstable_getServerSideProps"),P=new i.PagesRouteModule({definition:{kind:o.x.PAGES,page:"/posts/new/[id]",pathname:"/posts/new/[id]",bundlePath:"",filename:""},components:{App:l.default,Document:n()},userland:c});s()}catch(e){s(e)}})},1015:(e,r,t)=>{t.r(r),t.d(r,{default:()=>I});var s=t(997),i=t(6689),o=t(3142),a=t(1163),u=t(6076),n=t(4965),l=t.n(n),c=t(6337),p=t.n(c),m=t(1470),x=t.n(m),d=t(3890),h=t.n(d),g=t(9573),q=t.n(g),S=t(601),b=t.n(S),j=t(6485),f=t.n(j),v=t(6763),P=t.n(v),y=t(5590),k=t.n(y),C=t(4810),w=t.n(C),T=t(1530);function E(){let[e,r]=i.useState(null),[t,n]=i.useState(!1),c=!!e,{enqueueSnackbar:m}=(0,o.useSnackbar)(),d=()=>{r(null)},g=(0,a.useRouter)();return i.useEffect(()=>{sessionStorage.getItem("bearerToken")&&n(!0)},[]),s.jsx(i.Fragment,{children:(0,s.jsxs)(l(),{container:!0,justifyContent:"space-between",alignItems:"center",sx:{backgroundColor:"lightblue",padding:2},children:[s.jsx(l(),{item:!0,children:s.jsx(p(),{sx:{display:"flex",alignItems:"center"},children:s.jsx(x(),{href:"/",children:s.jsx("img",{src:"/logo-white.png",style:{width:100,marginRight:10},alt:"Logo"})})})}),(0,s.jsxs)(l(),{item:!0,children:[s.jsx(p(),{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:t?(0,s.jsxs)(p(),{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:[s.jsx(h(),{variant:"contained",startIcon:s.jsx(T.Z,{}),href:"/posts/new",children:"Novo Post"}),s.jsx(q(),{title:"Account settings",children:s.jsx(b(),{onClick:e=>{r(e.currentTarget)},size:"small",sx:{ml:2},"aria-controls":c?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":c?"true":void 0,children:s.jsx(f(),{sx:{width:32,height:32}})})})]}):(0,s.jsxs)(p(),{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:[s.jsx(h(),{variant:"contained",href:"/authentication/Login",sx:{marginRight:2},children:"Entrar"}),s.jsx(h(),{variant:"outlined",href:"/authentication/Cadastro",sx:{backgroundColor:"white"},children:"Cadastre-se"})]})}),(0,s.jsxs)(P(),{anchorEl:e,id:"account-menu",open:c,onClose:d,onClick:d,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&::before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,s.jsxs)(k(),{onClick:()=>{r(null),g.push("/user/Edit")},children:[s.jsx(f(),{})," Perfil"]}),(0,s.jsxs)(k(),{onClick:()=>{r(null),t&&(n(!1),m("Deslogado com sucesso!",{variant:"success"}),sessionStorage.removeItem("bearerToken"),g.reload())},children:[s.jsx(w(),{children:s.jsx(u.Z,{fontSize:"small"})}),"Sair"]})]})]})]})})}let I=function(e){let{Component:r,pageProps:t}=e;return(0,a.useRouter)().pathname.startsWith("/authentication")?s.jsx(o.SnackbarProvider,{maxSnack:3,children:s.jsx(r,{...t})}):(0,s.jsxs)(o.SnackbarProvider,{maxSnack:3,children:[s.jsx(E,{}),s.jsx(r,{...t})]})}},4750:(e,r,t)=>{t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{default:()=>w});var i=t(997),o=t(6689),a=t(4191),u=t(8642),n=t(8983),l=t.n(n),c=t(8653),p=t(3828),m=t.n(p),x=t(6337),d=t.n(x),h=t(4965),g=t.n(h),q=t(8697),S=t.n(q),b=t(4508),j=t.n(b),f=t(3890),v=t.n(f),P=t(3142),y=t(9648),k=t(1163),C=e([y]);y=(C.then?(await C)():C)[0];let w=()=>{let[e,r]=(0,o.useState)(""),[t,s]=(0,o.useState)(""),[n,p]=(0,o.useState)([]),[x,h]=(0,o.useState)(""),q=(0,a.Z)(),b=(0,k.useRouter)(),{id:f}=b.query,C="http://localhost:3002",w=new FormData;(0,o.useEffect)(()=>{f&&T(f)},[f]);let T=async e=>{let t=sessionStorage.getItem("user"),i=sessionStorage.getItem("bearerToken");try{let o=await y.default.get(`${C}/objeto/${t}/${e}/detalhes`,{headers:{Authorization:"Bearer "+i}});if(200===o.status){let{description:e,tags:t,name:i}=o.data.data;s(e),p(t),r(i)}else(0,P.enqueueSnackbar)("Erro ao carregar os dados do post.",{variant:"error"})}catch(e){console.error(e),(0,P.enqueueSnackbar)("Erro ao carregar os dados do post.",{variant:"error"})}},E=e=>{let r=n.filter(r=>r!==e);p(r)},I=async e=>{e.preventDefault();let r=sessionStorage.getItem("user"),s=sessionStorage.getItem("bearerToken");if(0===t.length){(0,P.enqueueSnackbar)("Descri\xe7\xe3o \xe9 obrigat\xf3ria",{variant:"error"});return}w.set("description",t),w.set("tags",n.join());try{await y.default.patch(`${C}/objeto/${r}/${f}`,w,{headers:{Authorization:"Bearer "+s}}),(0,P.enqueueSnackbar)("Post atualizado com sucesso!",{variant:"success"}),b.push("/")}catch(e){console.error(e),(0,P.enqueueSnackbar)("Ocorreu um erro ao salvar o post.",{variant:"error"})}};return i.jsx(u.Z,{theme:q,children:(0,i.jsxs)(l(),{component:"main",maxWidth:"xs",children:[i.jsx(c.Z,{}),i.jsx(m(),{component:"h1",variant:"h5",sx:{marginTop:5},children:"Editar Post"}),i.jsx(d(),{component:"form",noValidate:!0,onSubmit:I,sx:{my:3},children:(0,i.jsxs)(g(),{container:!0,spacing:2,children:[i.jsx(g(),{item:!0,xs:12,children:i.jsx(S(),{autoComplete:"name",name:"name",required:!0,fullWidth:!0,id:"name",label:"Arquivo",autoFocus:!0,value:e,disabled:!0})}),i.jsx(g(),{item:!0,xs:12,children:i.jsx(S(),{autoComplete:"name",name:"descricao",required:!0,fullWidth:!0,id:"descricao",label:"Descri\xe7\xe3o",autoFocus:!0,value:t,onChange:e=>s(e.target.value)})}),n.length>0&&i.jsx(g(),{item:!0,xs:12,children:n.map(e=>i.jsx(j(),{label:e,onDelete:()=>E(e)},e))}),i.jsx(g(),{item:!0,xs:12,children:i.jsx(S(),{label:"Tag",value:x,onChange:e=>h(e.target.value)})}),i.jsx(g(),{item:!0,xs:12,children:i.jsx(v(),{variant:"outlined",onClick:()=>{if(0===x.length)return;h("");let e=[...n,x];p(e)},children:"Adicionar tag"})}),i.jsx(g(),{item:!0,xs:12,children:i.jsx(v(),{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Atualizar Post"})})]})})]})})};s()}catch(e){s(e)}})},7986:e=>{e.exports=require("@mui/system")},9464:e=>{e.exports=require("@mui/system/DefaultPropsProvider")},399:e=>{e.exports=require("@mui/system/InitColorSchemeScript")},243:e=>{e.exports=require("@mui/system/RtlProvider")},9590:e=>{e.exports=require("@mui/system/colorManipulator")},9826:e=>{e.exports=require("@mui/system/createStyled")},1573:e=>{e.exports=require("@mui/system/createTheme")},2681:e=>{e.exports=require("@mui/system/styleFunctionSx")},845:e=>{e.exports=require("@mui/system/useThemeProps")},6024:e=>{e.exports=require("@mui/system/useThemeWithoutDefault")},657:e=>{e.exports=require("@mui/utils")},2031:e=>{e.exports=require("@mui/utils/HTMLElementType")},7004:e=>{e.exports=require("@mui/utils/appendOwnerState")},3543:e=>{e.exports=require("@mui/utils/capitalize")},6686:e=>{e.exports=require("@mui/utils/chainPropTypes")},3559:e=>{e.exports=require("@mui/utils/composeClasses")},6517:e=>{e.exports=require("@mui/utils/createChainedFunction")},2583:e=>{e.exports=require("@mui/utils/debounce")},697:e=>{e.exports=require("@mui/utils/deepmerge")},65:e=>{e.exports=require("@mui/utils/deprecatedPropType")},7968:e=>{e.exports=require("@mui/utils/elementAcceptingRef")},2450:e=>{e.exports=require("@mui/utils/elementTypeAcceptingRef")},8576:e=>{e.exports=require("@mui/utils/extractEventHandlers")},1416:e=>{e.exports=require("@mui/utils/formatMuiErrorMessage")},1392:e=>{e.exports=require("@mui/utils/generateUtilityClass")},2558:e=>{e.exports=require("@mui/utils/generateUtilityClasses")},4676:e=>{e.exports=require("@mui/utils/getScrollbarSize")},9846:e=>{e.exports=require("@mui/utils/integerPropType")},9845:e=>{e.exports=require("@mui/utils/isHostComponent")},3713:e=>{e.exports=require("@mui/utils/isMuiElement")},9178:e=>{e.exports=require("@mui/utils/mergeSlotProps")},8880:e=>{e.exports=require("@mui/utils/ownerDocument")},7653:e=>{e.exports=require("@mui/utils/ownerWindow")},515:e=>{e.exports=require("@mui/utils/refType")},1080:e=>{e.exports=require("@mui/utils/requirePropFactory")},5951:e=>{e.exports=require("@mui/utils/resolveComponentProps")},1459:e=>{e.exports=require("@mui/utils/resolveProps")},1009:e=>{e.exports=require("@mui/utils/setRef")},7229:e=>{e.exports=require("@mui/utils/unsupportedProp")},9315:e=>{e.exports=require("@mui/utils/useControlled")},7319:e=>{e.exports=require("@mui/utils/useEnhancedEffect")},6440:e=>{e.exports=require("@mui/utils/useEventCallback")},1954:e=>{e.exports=require("@mui/utils/useForkRef")},3018:e=>{e.exports=require("@mui/utils/useId")},3157:e=>{e.exports=require("@mui/utils/useIsFocusVisible")},9462:e=>{e.exports=require("@mui/utils/useSlotProps")},9790:e=>{e.exports=require("@mui/utils/useTimeout")},3841:e=>{e.exports=require("@popperjs/core")},8103:e=>{e.exports=require("clsx")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},3142:e=>{e.exports=require("notistack")},580:e=>{e.exports=require("prop-types")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},1469:e=>{e.exports=require("react-is")},4466:e=>{e.exports=require("react-transition-group")},997:e=>{e.exports=require("react/jsx-runtime")},9648:e=>{e.exports=import("axios")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[567,970,899,979,508,418],()=>t(1124));module.exports=s})();