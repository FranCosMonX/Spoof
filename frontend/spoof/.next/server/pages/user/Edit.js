"use strict";(()=>{var e={};e.id=624,e.ids=[624,888,660],e.modules={8664:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.r(t),r.d(t,{config:()=>g,default:()=>d,getServerSideProps:()=>h,getStaticPaths:()=>x,getStaticProps:()=>m,reportWebVitals:()=>f,routeModule:()=>S,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>q,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>b});var s=r(7093),a=r(5244),o=r(1323),n=r(2899),u=r.n(n),l=r(1015),c=r(3750),p=e([c]);c=(p.then?(await p)():p)[0];let d=(0,o.l)(c,"default"),m=(0,o.l)(c,"getStaticProps"),x=(0,o.l)(c,"getStaticPaths"),h=(0,o.l)(c,"getServerSideProps"),g=(0,o.l)(c,"config"),f=(0,o.l)(c,"reportWebVitals"),b=(0,o.l)(c,"unstable_getStaticProps"),v=(0,o.l)(c,"unstable_getStaticPaths"),q=(0,o.l)(c,"unstable_getStaticParams"),j=(0,o.l)(c,"unstable_getServerProps"),y=(0,o.l)(c,"unstable_getServerSideProps"),S=new s.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/user/Edit",pathname:"/user/Edit",bundlePath:"",filename:""},components:{App:l.default,Document:u()},userland:c});i()}catch(e){i(e)}})},9396:(e,t,r)=>{var i=r(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.styles=t.html=t.default=t.body=void 0;var s=i(r(434)),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(void 0);if(r&&r.has(e))return r.get(e);var i={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}(r(6689));i(r(580));var o=r(8465),n=i(r(6827)),u=r(997);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}let c=(e,t)=>(0,s.default)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode});t.html=c;let p=e=>(0,s.default)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});t.body=p;let d=(e,t=!1)=>{var r;let i={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([t,r])=>{var s;i[e.getColorSchemeSelector(t).replace(/\s*&/,"")]={colorScheme:null==(s=r.palette)?void 0:s.mode}});let a=(0,s.default)({html:c(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,s.default)({margin:0},p(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},i),o=null==(r=e.components)||null==(r=r.MuiCssBaseline)?void 0:r.styleOverrides;return o&&(a=[a,o]),a};t.styles=d,t.default=function(e){let{children:t,enableColorScheme:r=!1}=(0,o.useDefaultProps)({props:e,name:"MuiCssBaseline"});return(0,u.jsxs)(a.Fragment,{children:[(0,u.jsx)(n.default,{styles:e=>d(e,r)}),t]})}},8653:(e,t,r)=>{var i=r(4836);Object.defineProperty(t,"Z",{enumerable:!0,get:function(){return s.default}});var s=i(r(9396))},1015:(e,t,r)=>{r.r(t),r.d(t,{default:()=>_});var i=r(997),s=r(6689),a=r(3142),o=r(1163),n=r(6076),u=r(4965),l=r.n(u),c=r(6337),p=r.n(c),d=r(1470),m=r.n(d),x=r(3890),h=r.n(x),g=r(9573),f=r.n(g),b=r(601),v=r.n(b),q=r(6485),j=r.n(q),y=r(6763),S=r.n(y),P=r(5590),k=r.n(P),C=r(4810),w=r.n(C),T=r(1530);function W(){let[e,t]=s.useState(null),[r,u]=s.useState(!1),c=!!e,{enqueueSnackbar:d}=(0,a.useSnackbar)(),x=()=>{t(null)},g=(0,o.useRouter)();return s.useEffect(()=>{sessionStorage.getItem("bearerToken")&&u(!0)},[]),i.jsx(s.Fragment,{children:(0,i.jsxs)(l(),{container:!0,justifyContent:"space-between",alignItems:"center",sx:{backgroundColor:"lightblue",padding:2},children:[i.jsx(l(),{item:!0,children:i.jsx(p(),{sx:{display:"flex",alignItems:"center"},children:i.jsx(m(),{href:"/",children:i.jsx("img",{src:"/logo-white.png",style:{width:100,marginRight:10},alt:"Logo"})})})}),(0,i.jsxs)(l(),{item:!0,children:[i.jsx(p(),{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:r?(0,i.jsxs)(p(),{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:[i.jsx(h(),{variant:"contained",startIcon:i.jsx(T.Z,{}),href:"/posts/new",children:"Novo Post"}),i.jsx(f(),{title:"Account settings",children:i.jsx(v(),{onClick:e=>{t(e.currentTarget)},size:"small",sx:{ml:2},"aria-controls":c?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":c?"true":void 0,children:i.jsx(j(),{sx:{width:32,height:32}})})})]}):(0,i.jsxs)(p(),{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:[i.jsx(h(),{variant:"contained",href:"/authentication/Login",sx:{marginRight:2},children:"Entrar"}),i.jsx(h(),{variant:"outlined",href:"/authentication/Cadastro",sx:{backgroundColor:"white"},children:"Cadastre-se"})]})}),(0,i.jsxs)(S(),{anchorEl:e,id:"account-menu",open:c,onClose:x,onClick:x,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&::before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,i.jsxs)(k(),{onClick:()=>{t(null),g.push("/user/Edit")},children:[i.jsx(j(),{})," Perfil"]}),(0,i.jsxs)(k(),{onClick:()=>{t(null),r&&(u(!1),d("Deslogado com sucesso!",{variant:"success"}),sessionStorage.removeItem("bearerToken"),g.reload())},children:[i.jsx(w(),{children:i.jsx(n.Z,{fontSize:"small"})}),"Sair"]})]})]})]})})}let _=function(e){let{Component:t,pageProps:r}=e;return(0,o.useRouter)().pathname.startsWith("/authentication")?i.jsx(a.SnackbarProvider,{maxSnack:3,children:i.jsx(t,{...r})}):(0,i.jsxs)(a.SnackbarProvider,{maxSnack:3,children:[i.jsx(W,{}),i.jsx(t,{...r})]})}},3750:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.r(t),r.d(t,{default:()=>C});var s=r(997),a=r(6689),o=r(8983),n=r.n(o),u=r(8653),l=r(3828),c=r.n(l),p=r(6337),d=r.n(p),m=r(4965),x=r.n(m),h=r(8697),g=r.n(h),f=r(3890),b=r.n(f),v=r(633),q=r(4648),j=r.n(q),y=r(9648),S=r(3142),P=r(1163),k=e([y]);y=(k.then?(await k)():k)[0];let w=(0,v.createTheme)();function C(){let e="http://localhost:3002",t=sessionStorage.getItem("user"),r=sessionStorage.getItem("bearerToken"),i=(0,P.useRouter)(),[o,l]=(0,a.useState)({usuario:"",telefone:""}),[p,m]=(0,a.useState)({email:"",senha:""}),[h,f]=(0,a.useState)(!1),[q,k]=(0,a.useState)(""),C=e=>{let{name:t,value:r}=e.target;l(e=>({...e,[t]:r}))},T=e=>{let{name:t,value:r}=e.target;m(e=>({...e,[t]:r}))},W=async s=>{if(s.preventDefault(),""===o.usuario||""===o.telefone){(0,S.enqueueSnackbar)("Nome de usu\xe1rio e telefone s\xe3o obrigat\xf3rios",{variant:"error"});return}if(p.senha!==q){(0,S.enqueueSnackbar)("Senhas n\xe3o coincidem",{variant:"error"});return}try{await y.default.patch(e+"/users/"+t+"/update/basicData",o,{headers:{Authorization:"Bearer "+r}}),(0!==p.email.length||0!==p.senha.length)&&await y.default.patch(e+"/users/"+t+"/update/sensitiveData",p,{headers:{Authorization:"Bearer "+r}}),(0,S.enqueueSnackbar)("Perfil salvo",{variant:"success"}),i.push("/")}catch(e){(0,S.enqueueSnackbar)("N\xe3o foi poss\xedvel editar usu\xe1rio",{variant:"error"})}};return s.jsx(v.ThemeProvider,{theme:w,children:(0,s.jsxs)(n(),{component:"main",maxWidth:"xs",children:[s.jsx(u.Z,{}),s.jsx(c(),{component:"h1",variant:"h5",sx:{marginTop:5},children:"Editar Perfil"}),(0,s.jsxs)(d(),{component:"form",noValidate:!0,onSubmit:W,sx:{mt:3},children:[(0,s.jsxs)(x(),{container:!0,spacing:2,children:[s.jsx(x(),{item:!0,xs:12,children:s.jsx(g(),{required:!0,fullWidth:!0,id:"usuario",label:"Usu\xe1rio",name:"usuario",autoComplete:"username",value:o.usuario,onChange:C})}),s.jsx(x(),{item:!0,xs:12,children:s.jsx(j(),{mask:"(99) 99999-9999",value:o.telefone,onChange:C,children:s.jsx(g(),{required:!0,fullWidth:!0,id:"telefone",label:"Telefone",name:"telefone",autoComplete:"tel",type:"tel"})})})]}),(0,s.jsxs)(x(),{container:!0,spacing:2,children:[s.jsx(x(),{item:!0,xs:12,children:h?s.jsx(b(),{type:"button",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:e=>{e.preventDefault(),f(!1)},children:"Ocultar"}):s.jsx(b(),{type:"button",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:e=>{e.preventDefault(),f(!0)},children:"Editar credenciais"})}),h&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(x(),{item:!0,xs:12,children:s.jsx(g(),{required:!0,fullWidth:!0,id:"email",label:"Novo email",name:"email",autoComplete:"email",value:p.email,onChange:T})}),s.jsx(x(),{item:!0,xs:12,children:s.jsx(g(),{required:!0,fullWidth:!0,name:"senha",label:"Nova senha",type:"password",id:"senha",autoComplete:"new-password",value:p.senha,onChange:T})}),s.jsx(x(),{item:!0,xs:12,children:s.jsx(g(),{required:!0,fullWidth:!0,name:"senha",label:"Confirmar senha",type:"password",id:"novasenha",autoComplete:"new-password",value:q,onChange:e=>k(e.target.value)})})]})]}),s.jsx(x(),{item:!0,xs:12,children:s.jsx(b(),{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Salvar Perfil"})})]})]})})}i()}catch(e){i(e)}})},3013:e=>{e.exports=require("@mui/base")},7123:e=>{e.exports=require("@mui/base/ClassNameGenerator")},7483:e=>{e.exports=require("@mui/base/FocusTrap")},4683:e=>{e.exports=require("@mui/base/Popper")},8951:e=>{e.exports=require("@mui/base/Portal")},5194:e=>{e.exports=require("@mui/base/unstable_useModal")},9799:e=>{e.exports=require("@mui/base/utils")},7986:e=>{e.exports=require("@mui/system")},9464:e=>{e.exports=require("@mui/system/DefaultPropsProvider")},399:e=>{e.exports=require("@mui/system/InitColorSchemeScript")},243:e=>{e.exports=require("@mui/system/RtlProvider")},9590:e=>{e.exports=require("@mui/system/colorManipulator")},9826:e=>{e.exports=require("@mui/system/createStyled")},1573:e=>{e.exports=require("@mui/system/createTheme")},2681:e=>{e.exports=require("@mui/system/styleFunctionSx")},845:e=>{e.exports=require("@mui/system/useThemeProps")},6024:e=>{e.exports=require("@mui/system/useThemeWithoutDefault")},657:e=>{e.exports=require("@mui/utils")},2031:e=>{e.exports=require("@mui/utils/HTMLElementType")},3543:e=>{e.exports=require("@mui/utils/capitalize")},6686:e=>{e.exports=require("@mui/utils/chainPropTypes")},3559:e=>{e.exports=require("@mui/utils/composeClasses")},6517:e=>{e.exports=require("@mui/utils/createChainedFunction")},2583:e=>{e.exports=require("@mui/utils/debounce")},697:e=>{e.exports=require("@mui/utils/deepmerge")},65:e=>{e.exports=require("@mui/utils/deprecatedPropType")},7968:e=>{e.exports=require("@mui/utils/elementAcceptingRef")},2450:e=>{e.exports=require("@mui/utils/elementTypeAcceptingRef")},1416:e=>{e.exports=require("@mui/utils/formatMuiErrorMessage")},1392:e=>{e.exports=require("@mui/utils/generateUtilityClass")},2558:e=>{e.exports=require("@mui/utils/generateUtilityClasses")},4676:e=>{e.exports=require("@mui/utils/getScrollbarSize")},9846:e=>{e.exports=require("@mui/utils/integerPropType")},3713:e=>{e.exports=require("@mui/utils/isMuiElement")},8880:e=>{e.exports=require("@mui/utils/ownerDocument")},7653:e=>{e.exports=require("@mui/utils/ownerWindow")},515:e=>{e.exports=require("@mui/utils/refType")},1080:e=>{e.exports=require("@mui/utils/requirePropFactory")},1459:e=>{e.exports=require("@mui/utils/resolveProps")},1009:e=>{e.exports=require("@mui/utils/setRef")},7229:e=>{e.exports=require("@mui/utils/unsupportedProp")},9315:e=>{e.exports=require("@mui/utils/useControlled")},7319:e=>{e.exports=require("@mui/utils/useEnhancedEffect")},6440:e=>{e.exports=require("@mui/utils/useEventCallback")},1954:e=>{e.exports=require("@mui/utils/useForkRef")},3018:e=>{e.exports=require("@mui/utils/useId")},3157:e=>{e.exports=require("@mui/utils/useIsFocusVisible")},9790:e=>{e.exports=require("@mui/utils/useTimeout")},8103:e=>{e.exports=require("clsx")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},3142:e=>{e.exports=require("notistack")},580:e=>{e.exports=require("prop-types")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},4648:e=>{e.exports=require("react-input-mask")},1469:e=>{e.exports=require("react-is")},4466:e=>{e.exports=require("react-transition-group")},997:e=>{e.exports=require("react/jsx-runtime")},9648:e=>{e.exports=import("axios")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[567,970,899,979],()=>r(8664));module.exports=i})();