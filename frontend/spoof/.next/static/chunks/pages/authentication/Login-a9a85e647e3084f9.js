(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{5621:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/authentication/Login",function(){return a(8074)}])},8074:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return j}});var t=a(5893),r=a(4440),s=a(8163),o=a(9979),i=a(8962),u=a(4466),l=a(7574),c=a(4191),d=a(747),m=a(2945),h=a(4246),p=a(1163),f=a(9496),x=a(7294),g=a(7066);let Z=(0,c.Z)();function j(){let[e,n]=(0,x.useState)({email:"",senha:""}),a=(0,p.useRouter)(),{enqueueSnackbar:c}=(0,f.Ds)(),j=async n=>{n.preventDefault();try{let n=await g.Z.post("http://3.141.0.196/auth/signin",e,{headers:{"Content-Type":"application/json"}});if([200,201].includes(n.status)){let e=n.data.accesss_token,t=n.data.user_id;e?(sessionStorage.setItem("bearerToken",e),sessionStorage.setItem("user",t),c("Login realizado com sucesso!",{variant:"success"}),a.push("/")):c("Token n\xe3o encontrado na resposta.",{variant:"error"})}else[400,401].includes(n.status)?c("Erro: ".concat(n.data.message),{variant:"error"}):c("Ocorreu um erro ao logar.",{variant:"error"})}catch(e){g.Z.isAxiosError(e)&&e.response?c("Erro: ".concat(e.response.data.message),{variant:"error"}):c("Ocorreu um erro ao enviar a requisi\xe7\xe3o.",{variant:"error"})}},v=e=>{let{name:a,value:t}=e.target;n(e=>({...e,[a]:t}))};return(0,t.jsx)(d.Z,{theme:Z,children:(0,t.jsxs)(o.Z,{component:"main",maxWidth:"xs",children:[(0,t.jsx)(i.ZP,{}),(0,t.jsxs)(r.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,t.jsx)(h.Z,{component:"h1",variant:"h5",children:"Login"}),(0,t.jsxs)(r.Z,{component:"form",onSubmit:j,noValidate:!0,sx:{mt:1},children:[(0,t.jsx)(m.Z,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,value:e.email,onChange:v}),(0,t.jsx)(m.Z,{margin:"normal",required:!0,fullWidth:!0,name:"senha",label:"Senha",type:"password",id:"senha",autoComplete:"current-password",value:e.senha,onChange:v}),(0,t.jsx)(s.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Entrar"}),(0,t.jsx)(u.ZP,{container:!0,justifyContent:"flex-end",children:(0,t.jsx)(u.ZP,{item:!0,children:(0,t.jsx)(l.Z,{href:"Cadastro",variant:"body2",children:"N\xe3o possui uma conta? Cadastre-se"})})})]})]})]})})}}},function(e){e.O(0,[850,92,888,774,179],function(){return e(e.s=5621)}),_N_E=e.O()}]);