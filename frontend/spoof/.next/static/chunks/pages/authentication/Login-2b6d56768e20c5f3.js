(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{5621:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/authentication/Login",function(){return r(8074)}])},8962:function(e,t,r){"use strict";var a=r(7462),n=r(7294),o=r(6522),s=r(4482),i=r(5893);let l=(e,t)=>(0,a.Z)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),c=e=>(0,a.Z)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),u=function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};r&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(t=>{var r;let[a,o]=t;n[e.getColorSchemeSelector(a).replace(/\s*&/,"")]={colorScheme:null==(r=o.palette)?void 0:r.mode}});let o=(0,a.Z)({html:l(e,r),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,a.Z)({margin:0},c(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},n),s=null==(t=e.components)||null==(t=t.MuiCssBaseline)?void 0:t.styleOverrides;return s&&(o=[o,s]),o};t.ZP=function(e){let{children:t,enableColorScheme:r=!1}=(0,o.i)({props:e,name:"MuiCssBaseline"});return(0,i.jsxs)(n.Fragment,{children:[(0,i.jsx)(s.Z,{styles:e=>u(e,r)}),t]})}},8074:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var a=r(5893),n=r(4440),o=r(8163),s=r(9979),i=r(8962),l=r(4466),c=r(7574),u=r(4191),d=r(747),m=r(8386),h=r(4246),p=r(1163),g=r(9496),f=r(7294),x=r(7066);let b=(0,u.Z)();function v(){let[e,t]=(0,f.useState)({email:"",senha:""}),r=(0,p.useRouter)(),{enqueueSnackbar:u}=(0,g.Ds)(),v=async t=>{t.preventDefault();try{let t=await x.Z.post("http://localhost:3002/auth/signin",e,{headers:{"Content-Type":"application/json"}});if([200,201].includes(t.status)){let e=t.data.accesss_token,a=t.data.user_id;e?(sessionStorage.setItem("bearerToken",e),sessionStorage.setItem("user",a),u("Login realizado com sucesso!",{variant:"success"}),r.push("/")):u("Token n\xe3o encontrado na resposta.",{variant:"error"})}else[400,401].includes(t.status)?u(`Erro: ${t.data.message}`,{variant:"error"}):u("Ocorreu um erro ao logar.",{variant:"error"})}catch(e){x.Z.isAxiosError(e)&&e.response?u(`Erro: ${e.response.data.message}`,{variant:"error"}):u("Ocorreu um erro ao enviar a requisi\xe7\xe3o.",{variant:"error"})}},Z=e=>{let{name:r,value:a}=e.target;t(e=>({...e,[r]:a}))};return(0,a.jsx)(d.Z,{theme:b,children:(0,a.jsxs)(s.Z,{component:"main",maxWidth:"xs",children:[(0,a.jsx)(i.ZP,{}),(0,a.jsxs)(n.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,a.jsx)(h.Z,{component:"h1",variant:"h5",children:"Login"}),(0,a.jsxs)(n.Z,{component:"form",onSubmit:v,noValidate:!0,sx:{mt:1},children:[(0,a.jsx)(m.Z,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,value:e.email,onChange:Z}),(0,a.jsx)(m.Z,{margin:"normal",required:!0,fullWidth:!0,name:"senha",label:"Senha",type:"password",id:"senha",autoComplete:"current-password",value:e.senha,onChange:Z}),(0,a.jsx)(o.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Entrar"}),(0,a.jsx)(l.ZP,{container:!0,justifyContent:"flex-end",children:(0,a.jsx)(l.ZP,{item:!0,children:(0,a.jsx)(c.Z,{href:"Cadastro",variant:"body2",children:"N\xe3o possui uma conta? Cadastre-se"})})})]})]})]})})}}},function(e){e.O(0,[119,888,774,179],function(){return e(e.s=5621)}),_N_E=e.O()}]);