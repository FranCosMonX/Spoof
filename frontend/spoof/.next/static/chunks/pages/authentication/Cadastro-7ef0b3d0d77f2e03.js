(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[449],{9973:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/authentication/Cadastro",function(){return a(8514)}])},8514:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return v}});var s=a(5893),t=a(4440),r=a(8163),i=a(9979),o=a(8962),l=a(4466),u=a(7574),h=a(4191),d=a(747),c=a(8386),m=a(4246),x=a(1163),p=a(9496),f=a(7294),j=a(6627),Z=a.n(j),C=a(7066);let g=(0,h.Z)();function v(){let[e,n]=(0,f.useState)({nome:"",email:"",usuario:"",telefone:"",senha:"",senhaAux:""}),a=(0,x.useRouter)(),{enqueueSnackbar:h}=(0,p.Ds)(),j=async n=>{if(n.preventDefault(),e.senha!==e.senhaAux){h("Senhas n\xe3o coincidem.",{variant:"error"});return}try{let n=await C.Z.post("http://localhost:3002/auth/signup",e,{headers:{"Content-Type":"application/json"}});[200,201].includes(n.status)?(h("Cadastro realizado com sucesso!",{variant:"success"}),a.push("Login")):[400,401].includes(n.status)?h(`Erro: ${n.data.message}`,{variant:"error"}):h("Ocorreu um erro ao cadastrar.",{variant:"error"})}catch(e){C.Z.isAxiosError(e)&&e.response?h(`Erro: ${e.response.data.message}`,{variant:"error"}):h("Ocorreu um erro ao enviar a requisi\xe7\xe3o.",{variant:"error"})}},v=e=>{let{name:a,value:s}=e.target;n(e=>({...e,[a]:s}))};return(0,s.jsx)(d.Z,{theme:g,children:(0,s.jsxs)(i.Z,{component:"main",maxWidth:"xs",children:[(0,s.jsx)(o.ZP,{}),(0,s.jsxs)(t.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,s.jsx)(m.Z,{component:"h1",variant:"h5",children:"Cadastre-se"}),(0,s.jsxs)(t.Z,{component:"form",noValidate:!0,onSubmit:j,sx:{my:3},children:[(0,s.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,s.jsx)(l.ZP,{item:!0,xs:12,children:(0,s.jsx)(c.Z,{autoComplete:"name",name:"nome",required:!0,fullWidth:!0,id:"nome",label:"Nome",autoFocus:!0,value:e.nome,onChange:v})}),(0,s.jsx)(l.ZP,{item:!0,xs:12,children:(0,s.jsx)(c.Z,{required:!0,fullWidth:!0,id:"usuario",label:"Usu\xe1rio",name:"usuario",autoComplete:"username",value:e.usuario,onChange:v})}),(0,s.jsx)(l.ZP,{item:!0,xs:12,children:(0,s.jsx)(c.Z,{required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",value:e.email,onChange:v})}),(0,s.jsx)(l.ZP,{item:!0,xs:12,children:(0,s.jsx)(Z(),{mask:"(99) 99999-9999",value:e.telefone,onChange:v,children:(0,s.jsx)(c.Z,{required:!0,fullWidth:!0,id:"telefone",label:"Telefone",name:"telefone",autoComplete:"tel",type:"tel"})})}),(0,s.jsx)(l.ZP,{item:!0,xs:12,children:(0,s.jsx)(c.Z,{required:!0,fullWidth:!0,name:"senha",label:"Senha",type:"password",id:"senha",autoComplete:"new-password",value:e.senha,onChange:v})}),(0,s.jsx)(l.ZP,{item:!0,xs:12,children:(0,s.jsx)(c.Z,{required:!0,fullWidth:!0,name:"senhaAux",label:"Repetir senha",type:"password",id:"senhaAux",autoComplete:"off",value:e.senhaAux,onChange:v,error:e.senhaAux.length>0&&e.senha!==e.senhaAux,helperText:e.senhaAux.length>0&&e.senha!==e.senhaAux?"Senhas n\xe3o coincidem.":""})})]}),(0,s.jsxs)(l.ZP,{item:!0,xs:12,children:[(0,s.jsx)(r.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Cadastrar"}),(0,s.jsx)(l.ZP,{container:!0,justifyContent:"flex-end",children:(0,s.jsx)(l.ZP,{item:!0,children:(0,s.jsx)(u.Z,{href:"Login",variant:"body2",children:"J\xe1 possui uma conta? Fa\xe7a o login."})})})]})]})]})]})})}}},function(e){e.O(0,[119,355,888,774,179],function(){return e(e.s=9973)}),_N_E=e.O()}]);